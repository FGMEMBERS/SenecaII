<?xml version="1.0" encoding="UTF-8"?>
<PropertyList xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../../../XMLSchemas/panel.xsd">
    <name>AltimaticIIIc</name>
    <background>Aircraft/SenecaII/Instruments-3d/transparent.rgb</background>
    <w>158</w>
    <h>74</h>
    <instruments>
        <instrument>
            <name>panel hotspots</name>
            <x>79</x>
            <y>37</y>
            <w>158</w>
            <h>74</h>
            <w-base>158</w-base>
            <h-base>74</h-base>

            <actions>
                <!-- Roll Button -->
                <action>
                    <name>RollButton</name>
                    <button>0</button>
                    <x>-59</x>
                    <y>1</y>
                    <w>20</w>
                    <h>30</h>
                    <binding>
                        <command>property-toggle</command>
                        <property>/controls/autopilot/roll</property>
                    </binding>
                    <binding>
                        <command>nasal</command>
                        <script>
                            if( getprop("/controls/autopilot/roll") != 1) {
                              setprop("/controls/autopilot/hdg",0);
                              setprop("/controls/autopilot/alt",0);
                              setprop("/controls/autopilot/pitch",0);
                              setprop("/autopilot/locks/heading", "" );
                              setprop("/autopilot/locks/altitude", "" );
                            }  else {
                              setprop("/autopilot/locks/heading", "wing-leveler" );
                            }
                        </script>
                    </binding>
                </action>

                <!-- HDG Button -->
                <action>
                    <name>HdgButton</name>
                    <button>0</button>
                    <x>-39</x>
                    <y>1</y>
                    <w>20</w>
                    <h>30</h>
                    <binding>
                        <command>property-toggle</command>
                        <property>/controls/autopilot/hdg</property>
                    </binding>
                    <binding>
                        <command>nasal</command>
                        <!-- fixme: NAV, LOC NORM and LOC REV not correct yet -->
                        <script>
                            if( getprop("/controls/autopilot/hdg") == 1) {
                              setprop("/controls/autopilot/roll",1);
                              m = getprop( "/controls/autopilot/mode" );
                              if( m == 0 or m == 1 or m == 3 or m == 4 ) {
                                setprop("/autopilot/locks/heading", "nav1-hold" );
                              }
                              if( m == 2  ) {
                              setprop("/autopilot/locks/heading", "dg-heading-hold" );
                              }
                            } else {
                              if( getprop("/controls/autopilot/roll") != 1) {
                                setprop("/autopilot/locks/heading", "" );
                              }  else {
                                setprop("/autopilot/locks/heading", "wing-leveler" );
                              }
                            }
                        </script>
                    </binding>
                </action>

                <!-- ALT Button -->
                <action>
                    <name>AltButton</name>
                    <button>0</button>
                    <x>-19</x>
                    <y>1</y>
                    <w>20</w>
                    <h>30</h>
                    <binding>
                        <command>property-toggle</command>
                        <property>/controls/autopilot/alt</property>
                    </binding>
                    <binding>
                        <command>nasal</command>
                        <script>
                            if( getprop("/controls/autopilot/alt") == 1) {
                              setprop("/controls/autopilot/pitch",1);
                              setprop("/autopilot/locks/altitude", "altitude-hold" );
                              setprop("/autopilot/settings/target-altitude-ft",getprop("/position/altitude-ft"));
                            } else {
                              if( getprop("/controls/autopilot/pitch") != 1) {
                                setprop("/autopilot/locks/altitude", "" );
                              }  else {
                                setprop("/autopilot/locks/altitude", "pitch-hold" );
                              }
                            }
                        </script>
                    </binding>
                </action>

                <!-- PITCH Button -->
                <action>
                    <name>PitchButton</name>
                    <button>0</button>
                    <x>1</x>
                    <y>1</y>
                    <w>20</w>
                    <h>30</h>
                    <binding>
                        <command>property-toggle</command>
                        <property>/controls/autopilot/pitch</property>
                    </binding>
                    <binding>
                        <command>nasal</command>
                        <script>
                            if( getprop("/controls/autopilot/pitch") != 1) {
                              setprop("/controls/autopilot/alt",0);
                              setprop("/autopilot/locks/altitude", "" );
                            }  else {
                              setprop("/autopilot/locks/altitude", "pitch-hold" );
                            }
                        </script>
                    </binding>
                </action>

                <!-- ROLL decrease -->
                <action>
                    <name>ROLL decrease</name>
                    <button>0</button>
                    <x>-53</x>
                    <y>-33</y>
                    <w>15</w>
                    <h>30</h>
                    <binding>
                        <command>property-adjust</command>
                        <property>/controls/autopilot/roll-norm</property>
                        <step>-0.1</step>
                        <min>-1.0</min>
                        <max>1.0</max>
                    </binding>
                </action>

                <!-- ROLL increase -->
                <action>
                    <name>ROLL increase</name>
                    <button>0</button>
                    <x>-38</x>
                    <y>-33</y>
                    <w>15</w>
                    <h>30</h>
                    <binding>
                        <command>property-adjust</command>
                        <property>/controls/autopilot/roll-norm</property>
                        <step>0.1</step>
                        <min>-1.0</min>
                        <max>1.0</max>
                    </binding>
                </action>

                <!-- PITCH increase -->
                <action>
                    <name>PITCH increase</name>
                    <button>0</button>
                    <x>42</x>
                    <y>-18</y>
                    <w>10</w>
                    <h>25</h>
                    <binding>
                        <command>property-adjust</command>
                        <property>/autopilot/settings/target-pitch-deg</property>
                        <step>0.5</step>
                        <min>-10.0</min>
                        <max>10.0</max>
                    </binding>
                </action>

                <!-- PITCH decrease -->
                <action>
                    <name>PITCH decrease</name>
                    <button>0</button>
                    <x>42</x>
                    <y>7</y>
                    <w>10</w>
                    <h>25</h>
                    <binding>
                        <command>property-adjust</command>
                        <property>/autopilot/settings/target-pitch-deg</property>
                        <step>-0.5</step>
                        <min>-10.0</min>
                        <max>10.0</max>
                    </binding>
                </action>

                <!-- PITCH neutral -->
                <action>
                    <name>PITCH decrease</name>
                    <button>1</button>
                    <x>42</x>
                    <y>-18</y>
                    <w>10</w>
                    <h>50</h>
                    <binding>
                        <command>property-assign</command>
                        <property>/autopilot/settings/target-pitch-deg</property>
                        <value>0</value>
                    </binding>
                </action>
                
            </actions>
        </instrument>
    </instruments>
</PropertyList>
